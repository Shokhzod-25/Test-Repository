# Тестовый репозиторий для Docker и Git

Этот репозиторий представляет собой простой тестовый проект для демонстрации интеграции Docker и Git. Цель проекта — показать, как:

1. **Создавать Docker-образ** для приложения на FastAPI.
2. **Использовать Git** для контроля версий и интеграции с Docker.
3. **Игнорировать ненужные файлы** (например, файлы базы данных или скомпилированные байт-коды) с помощью `.gitignore`.
4. **Запускать приложение в контейнере Docker** и тестировать его.

## Структура проекта

Вот как выглядит структура репозитория:

```
.
├── app/                # Исходный код приложения
│   ├── database.py     # Инициализация базы данных
│   ├── __init__.py     # Инициализация приложения
│   ├── models.py       # Модели базы данных
│   ├── routes/         # API маршруты
│   ├── schemas.py      # Pydantic схемы
├── Dockerfile          # Dockerfile для создания образа приложения FastAPI
├── main.py             # Главный файл приложения FastAPI
├── requirements.txt    # Список необходимых Python-библиотек
├── .gitignore          # Файл для исключения ненужных файлов из Git
├── README.md           # Этот файл
└── mydb.db             # Пример базы данных SQLite (будет проигнорирован Git)
```

## Настройка Docker

### Сборка Docker-образа

Чтобы собрать Docker-образ для приложения FastAPI, выполните следующую команду:

```bash
docker build -t fastapi-app .
```

### Запуск контейнера Docker
После того как образ будет собран, вы можете запустить приложение в контейнере:

```bash
docker run -d -p 8000:8000 fastapi-app
```

Это запустит приложение на порту `8000`, и вы сможете получить доступ к нему по адресу:

```
http://127.0.0.1:8000/docs
```

### Игнорирование файлов в Docker

В проекте используется файл `.dockerignore`, чтобы предотвратить добавление ненужных файлов (например, `__pycache__`, `.git` и другие) в Docker-образ. Пример содержимого файла `.dockerignore`:

```
__pycache__/
.git/
.gitignore
mydb.db
```

## Настройка Git

### Коммит изменений

Чтобы отслеживать изменения с помощью Git, выполните следующие команды:

```bash
git add .
git commit -m "Первоначальная настройка с Docker и Git"
git push origin main
```

### Файл .gitignore

Файл `.gitignore` используется для того, чтобы исключить определенные файлы из отслеживания Git. Например, мы игнорируем файлы базы данных (`mydb.db`), байт-код Python (`__pycache__`) и саму папку `.git`.

Пример содержимого файла `.gitignore`:

```
__pycache__/
.git/
mydb.db
```

### Проверка статуса Git

Чтобы проверить статус репозитория и увидеть, какие изменения были сделаны, используйте:

```bash
git status
```

### Удаление файлов из Git-отслеживания

Если вы случайно добавили файлы, такие как `mydb.db`, в Git, вы можете удалить их с помощью:

```bash
git rm --cached mydb.db
git commit -m "Удаление mydb.db из контроля версий"
git push
```

### Проверка игнорируемых файлов

Чтобы проверить, игнорируется ли какой-то файл Git, используйте команду:

```bash
git check-ignore mydb.db
```

Эта команда покажет, игнорируется ли файл `mydb.db`.

## Заключение

Этот репозиторий — тестовый проект для демонстрации интеграции Docker и Git для приложения на FastAPI. Здесь показано, как собирать Docker-образы, запускать контейнеры, использовать Git для контроля версий и управлять файлами с помощью `.gitignore`.

Вы можете клонировать или форкнуть этот репозиторий для тестирования Docker и Git в своих проектах!
